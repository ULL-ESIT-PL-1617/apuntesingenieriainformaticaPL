<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Selección de Código y Gramáticas Árbol</TITLE>
<META NAME="description" CONTENT="Selección de Código y Gramáticas Árbol">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node270.html">
<LINK REL="previous" HREF="node268.html">
<LINK REL="up" HREF="node267.html">
<LINK REL="next" HREF="node270.html">
</HEAD>

<BODY >

<A NAME="tex2html5517"
  HREF="node270.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html5511"
  HREF="node267.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html5505"
  HREF="node268.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html5513"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html5515"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html5518"
  HREF="node270.html">Patrones Árbol y Transformaciones</A>
<B>Sup:</B> <A NAME="tex2html5512"
  HREF="node267.html">Transformaciones Árbol con Parse::Eyapp</A>
<B> Ant:</B> <A NAME="tex2html5506"
  HREF="node268.html">Árbol de Análisis Abstracto</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>
<BR> <P>

<!--End of Navigation Panel-->

<H1><A NAME="SECTION001520000000000000000"></A>
<A NAME="section:selecciondecodigo"></A>
<BR>
Selección de Código y Gramáticas Árbol
</H1>
La generación de código es la fase en la que a partir de la 
<A NAME="22643"></A><B>Representación intermedia</B> o <A NAME="22645"></A><B>IR</B> se genera 
una secuencia de instrucciones para la máquina objeto.
Esta tarea conlleva diversas subtareas, entre ellas destacan
tres: 

<UL>
<LI>La selección de instrucciones o selección de código, 
</LI>
<LI>La asignación de registros
y 
</LI>
<LI>La planificación de las instrucciones.
</LI>
</UL>

<P>
El problema de la <A NAME="22647"></A><B>selección de código</B> surge de que
la mayoría de las máquinas suelen tener una gran variedad de instrucciones,
habitualmente cientos y muchas instrucciones admiten mas de una decena de modos de 
direccionamiento.
En consecuencia, 

<P>
<DIV ALIGN="CENTER">
<BLOCKQUOTE>
There Is More Than One Way To Do It (The Translation)

</BLOCKQUOTE>
</DIV>

<P>
<B>Es posible asociar 
una gramática árbol con 
el juego de instrucciones de una máquina</B>. 
Las partes derechas de las reglas de producción de esta gramática vienen determinadas
por el conjunto de árboles sintácticos de las instrucciones. 
La gramática tiene dos variables sintácticas 
que denotan dos tipos de recursos de la máquina: los registros
representados por la variable sintáctica <IMG
 WIDTH="18" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img141.png"
 ALT="$ R$">
 y las direcciones de memoria 
representadas por <IMG
 WIDTH="28" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img516.png"
 ALT="$ M.$">
 
Una instrucción deja su resultado en cierto lugar, normalmente un registro o
memoria. La idea es que las variables sintácticas en los lados izquierdos
de las reglas representan los lugares
en los cuales las instrucciones dejan sus resultados.

<P>
Ademas, a cada instrucción le asociamos un coste:

<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="CENTER" COLSPAN=3>Gramática Arbol Para un Juego de Instrucciones Simple</TD>
</TR>
<TR><TD ALIGN="LEFT">Producción</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120>Instrucción</TD>
<TD ALIGN="LEFT">Coste</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>LOADC R, NUM</code></TD>
<TD ALIGN="LEFT">1</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>LOADM R, M</code></TD>
<TD ALIGN="LEFT">3</TD>
</TR>
<TR><TD ALIGN="LEFT">M <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 R</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>STOREM M, R</code></TD>
<TD ALIGN="LEFT">3</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 PLUS(R,M)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>PLUSM R, M</code></TD>
<TD ALIGN="LEFT">3</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 PLUS(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>PLUSR R, R</code></TD>
<TD ALIGN="LEFT">1</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 TIMES(R,M)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>TIMESM R, M</code></TD>
<TD ALIGN="LEFT">6</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 TIMES(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>TIMESR R, R</code></TD>
<TD ALIGN="LEFT">4</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 PLUS(R,TIMES(NUM,R))</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>PLUSCR R, NUM, R</code></TD>
<TD ALIGN="LEFT">4</TD>
</TR>
<TR><TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 TIMES(R,TIMES(NUM,R))</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=120><code>TIMESCR R, NUM, R</code></TD>
<TD ALIGN="LEFT">5</TD>
</TR>
</TABLE>
</DIV>

<P>
Consideremos la IR consistente en el AST generado por el front-end del compilador
para la expresión <code>x+3*(7*y)</code>:

<P>
<PRE>
                           PLUS(M[x],TIMES(N[3],TIMES(N[7],M[y])
</PRE>

<P>
Construyamos una derivación a izquierdas para el árbol anterior:

<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="CENTER" COLSPAN=4>Una derivación árbol a izquierdas para <!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img517.png"
 ALT="$ P(M,T(N,T(N,M)))$">
</TD>
</TR>
<TR><TD ALIGN="LEFT">Derivación</TD>
<TD ALIGN="LEFT">Producción</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85>Instrucción</TD>
<TD ALIGN="RIGHT">Coste</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $R \Longrightarrow$
 -->
<IMG
 WIDTH="51" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img518.png"
 ALT="$ R \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 PLUS(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>PLUSR R, R</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(R,R) \Longrightarrow$
 -->
<IMG
 WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img519.png"
 ALT="$ P(R,R) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADM R, M</code></TD>
<TD ALIGN="RIGHT">3</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,R) \Longrightarrow$
 -->
<IMG
 WIDTH="104" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img520.png"
 ALT="$ P(M,R) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 TIMES(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>TIMESR R, R</code></TD>
<TD ALIGN="RIGHT">4</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(R, R)) \Longrightarrow$
 -->
<IMG
 WIDTH="151" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img521.png"
 ALT="$ P(M, T(R, R)) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADC R, NUM</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(N, R)) \Longrightarrow$
 -->
<IMG
 WIDTH="153" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img522.png"
 ALT="$ P(M, T(N, R)) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 TIMES(R,R)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>TIMESR R, R</code></TD>
<TD ALIGN="RIGHT">4</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(N, T(R, R))) \Longrightarrow$
 -->
<IMG
 WIDTH="200" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img523.png"
 ALT="$ P(M, T(N, T(R, R))) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADC R, NUM</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M, T(N, T(N, R))) \Longrightarrow$
 -->
<IMG
 WIDTH="202" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img524.png"
 ALT="$ P(M, T(N, T(N, R))) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85><code>LOADM R, M</code></TD>
<TD ALIGN="RIGHT">3</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img517.png"
 ALT="$ P(M,T(N,T(N,M)))$">
</TD>
<TD ALIGN="LEFT">&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=85>&nbsp;</TD>
<TD ALIGN="RIGHT">Total: 17</TD>
</TR>
</TABLE>
</DIV>

<P>
Obsérvese que, si asumimos por ahora que hay suficientes registros, la secuencia
de instrucciones resultante en la tercera columna de la tabla si se lee en orden inverso
(esto es, si se sigue el orden de instrucciones asociadas a las reglas de producción
en orden de anti-derivación)
y se hace una asignación correcta de registros nos da una traducción correcta
de la expresión <code>x+3*(7*y)</code>:

<P>
<PRE>
LOADM R, M         # y 
LOADC R, NUM       # 7
TIMESR R, R        # 7*y
LOADC R, NUM       # 3
TIMESR R, R        # 3*(7*y)
LOADM R, M         # x
PLUSR R, R         # x+3*(7*y)
</PRE>

<P>
La gramática anterior es ambigua. El árbol de <code>x+3*(7*y)</code>
puede ser generado también mediante la siguiente derivación 
a izquierdas:

<P>
<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="CENTER" COLSPAN=4>Otra derivación árbol a izquierdas para <!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img517.png"
 ALT="$ P(M,T(N,T(N,M)))$">
</TD>
</TR>
<TR><TD ALIGN="LEFT">Derivación</TD>
<TD ALIGN="LEFT">Producción</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113>Instrucción</TD>
<TD ALIGN="RIGHT">Coste</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $R \Longrightarrow$
 -->
<IMG
 WIDTH="51" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img518.png"
 ALT="$ R \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 PLUS(R,TIMES(NUM,R))</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>PLUSCR R, NUM, R</code></TD>
<TD ALIGN="RIGHT">4</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(R,T(N,R)) \Longrightarrow$
 -->
<IMG
 WIDTH="148" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img525.png"
 ALT="$ P(R,T(N,R)) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 M</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>LOADM R, M</code></TD>
<TD ALIGN="RIGHT">3</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,R)) \Longrightarrow$
 -->
<IMG
 WIDTH="153" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img522.png"
 ALT="$ P(M, T(N, R)) \Longrightarrow$">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 TIMES(R,M)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>TIMESM R, M</code></TD>
<TD ALIGN="RIGHT">6</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,T(R,M)))$
 -->
<IMG
 WIDTH="172" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img526.png"
 ALT="$ P(M,T(N,T(R,M))) $">
</TD>
<TD ALIGN="LEFT">R <!-- MATH
 $\rightarrow$
 -->
<IMG
 WIDTH="22" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img48.png"
 ALT="$ \rightarrow$">
 NUM</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113><code>LOADC R, NUM</code></TD>
<TD ALIGN="RIGHT">1</TD>
</TR>
<TR><TD ALIGN="LEFT"><!-- MATH
 $P(M,T(N,T(N,M)))$
 -->
<IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img517.png"
 ALT="$ P(M,T(N,T(N,M)))$">
</TD>
<TD ALIGN="LEFT">&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=113>&nbsp;</TD>
<TD ALIGN="RIGHT">Total: 14</TD>
</TR>
</TABLE>
</DIV>

<P>
La nueva secuencia de instrucciones para <code>x+3*(7*y)</code> es:

<P>
<PRE>
LOADC R, NUM        # 7
TIMESM R, M         # 7*y
LOADM R, M          # x
PLUSCR R, NUM, R    # x+3*(7*y)
</PRE>

<P>
Cada antiderivación a izquierdas produce una secuencia de instrucciones que es una traducción
legal del AST de <code>x+3*(7*y)</code>. 

<P>
<B>El problema de la selección de código óptima
puede aproximarse resolviendo 
el problema de  encontrar la derivación árbol óptima que produce el árbol
de entrada (en representación intermedia IR)</B>

<P>
<P>
<DIV><B>Definición  10.2.1</B> &nbsp; 
<I>Un <A NAME="22649"></A><B>generador de generadores de código</B> es una componente software que toma como
entrada una especificación de la plataforma objeto -por ejemplo mediante una gramática
árbol- y genera un módulo que es utilizado por el compilador. Este módulo
lee la representación intermedia (habitualmente un árbol) y 
retorna código máquina como resultado.</I></DIV><P></P>

<P>
Un ejemplo de generador de generadores de código 
es 
<A NAME="tex2html267"
  HREF="http://code.google.com/p/iburg/">iburg</A>
[<A
 HREF="node323.html#Proebsting">10</A>].

<P>
Véase también el libro 
<A NAME="tex2html268"
  HREF="http://www.bytelabs.org/pub/papers/hburg07.pdf">Automatic Code Generation Using Dynamic Programming Techniques</A>
y la página <A NAME="tex2html269"
  HREF="http://www.bytelabs.org/hburg.html">http://www.bytelabs.org/hburg.html</A>
<P>
<P>
<DIV><B>Ejercicio  10.2.1</B> &nbsp; 
<I>Responda a las siguientes preguntas:
</I>
<UL>
<LI>Sea <IMG
 WIDTH="34" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img527.png"
 ALT="$ G_M$">
 la gramática árbol asociada segun la descripción anterior
con el juego de instrucciones de la máquina <IMG
 WIDTH="24" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img528.png"
 ALT="$ M$">
. Especifique formalmente
las cuatro componentes de la gramática <!-- MATH
 $G_M = (\Sigma_M, V_M, P_M, S_M)$
 -->
<IMG
 WIDTH="199" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img529.png"
 ALT="$ G_M = (\Sigma_M, V_M, P_M, S_M)$">
 
</LI>
<LI>¿Cual es el lenguaje árbol generado por <IMG
 WIDTH="34" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img527.png"
 ALT="$ G_M$">
?
</LI>
<LI>¿A que lenguaje debe pertenecer la representación intermedia IR para
que se pueda aplicar la aproximación presentada en esta sección?
</LI>
</UL></DIV><P></P>

<P>
<HR>
<A NAME="tex2html5517"
  HREF="node270.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html5511"
  HREF="node267.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html5505"
  HREF="node268.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html5513"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html5515"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html5518"
  HREF="node270.html">Patrones Árbol y Transformaciones</A>
<B>Sup:</B> <A NAME="tex2html5512"
  HREF="node267.html">Transformaciones Árbol con Parse::Eyapp</A>
<B> Ant:</B> <A NAME="tex2html5506"
  HREF="node268.html">Árbol de Análisis Abstracto</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2013-03-05</I>
</ADDRESS>
</BODY>
</HTML>
