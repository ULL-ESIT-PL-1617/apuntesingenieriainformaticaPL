<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Expresiones Condicionales</TITLE>
<META NAME="description" CONTENT="Expresiones Condicionales">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node67.html">
<LINK REL="previous" HREF="node65.html">
<LINK REL="up" HREF="node56.html">
<LINK REL="next" HREF="node67.html">
</HEAD>

<BODY >

<A NAME="tex2html2155"
  HREF="node67.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2149"
  HREF="node56.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2143"
  HREF="node65.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2151"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2153"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2156"
  HREF="node67.html">Verbos que controlan el</A>
<B>Sup:</B> <A NAME="tex2html2150"
  HREF="node56.html">Algunas Extensiones</A>
<B> Ant:</B> <A NAME="tex2html2144"
  HREF="node65.html">Expresiones Regulares en tiempo</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>
<BR> <P>

<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL>
<LI><UL>
<LI><A NAME="tex2html2157"
  HREF="node66.html#SECTION008210010000000000000">Condiciones: número de paréntesis</A>
<LI><A NAME="tex2html2158"
  HREF="node66.html#SECTION008210020000000000000">Ejemplo: cadenas de la forma <I>una</I>-otra-otra-<I>una</I></A>
<LI><A NAME="tex2html2159"
  HREF="node66.html#SECTION008210030000000000000">Condiciones: Código</A>
<LI><A NAME="tex2html2160"
  HREF="node66.html#SECTION008210040000000000000">Ejemplo: Cadenas con posible paréntesis inicial (no anidados)</A>
<LI><A NAME="tex2html2161"
  HREF="node66.html#SECTION008210050000000000000">Expresiones Condicionales con <TT>(R)</TT></A>
<LI><A NAME="tex2html2162"
  HREF="node66.html#SECTION008210060000000000000">Ejemplo: Palíndromos con Equivalencia de Acentos Españoles</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION008210000000000000000"></A>
<A NAME="subsection:regexpcondicionales"></A>
<BR>
Expresiones Condicionales
</H2>

<P>
Citando a <A NAME="tex2html111"
  HREF="http://search.cpan.org/perldoc/?perlre"><TT>perlre</TT></A>:

<P>
<BLOCKQUOTE><I>A conditional expression is a form of if-then-else
statement that allows one to choose which patterns are
to be matched, based on some condition. 
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>There are two
types of conditional expression: <code>(?(condition)yes-regexp)</code> and
<code>(?(condition)yes-regexp|no-regexp)</code>. 
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I><code>(?(condition)yes-regexp)</code> is like an
<code>if () {}</code> statement in Perl. 
If the condition is true, the yes-regexp
will be matched. If the condition is false, the yes-regexp will be
skipped and Perl will move onto the next regexp element. 
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>The second form
is like an <code>if () {} else {}</code> statement in Perl. If the condition is true,
the yes-regexp will be matched, otherwise the no-regexp will be matched.
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>The condition can have several forms. 
</I></BLOCKQUOTE>
<UL>
<LI>The first form is simply an
integer in parentheses (integer). It is true if the corresponding
backreference <code>\integer</code> matched earlier in the regexp. The same thing
can be done with a name associated with a capture buffer, written as
<code>(&lt;name&gt;)</code> or <code>('name')</code>. 
</LI>
<LI>The second form is a bare zero width assertion
<code>(?...)</code>, either a lookahead, a lookbehind, or a code assertion. 

<P>
</LI>
<LI>The third set of forms provides tests that return
true if the expression is executed within a recursion <code>(R)</code> or is being
called from some capturing group, referenced either by number <code>(R1</code>,
or by name <code>(R&amp;name)</code>.
</LI>
</UL>

<P>

<H4><A NAME="SECTION008210010000000000000">
Condiciones: número de paréntesis</A>
</H4>
  

<P>
Una expresión condicional puede adoptar diversas formas.
La mas simple es un entero en paréntesis. 
Es cierta si la correspondiente referencia 
<code>\integer</code> casó (también se puede usar un nombre
si se trata de un paréntesis con nombre). 

<P>
En la expresión regular <code>/^(.)(..)?(?(2)a|b)/</code> si el segundo paréntesis
casa, la cadena debe ir seguida de una <code>a</code>, si no casa deberá ir seguida de 
una <code>b</code>: 

<P>
<PRE>
  DB&lt;1&gt; x 'hola' =~ /^(.)(..)?(?(2)a|b)/
0  'h'
1  'ol'
  DB&lt;2&gt; x 'ha' =~ /^(.)(..)?(?(2)a|b)/
  empty array
  DB&lt;3&gt; x 'hb' =~ /^(.)(..)?(?(2)a|b)/
0  'h'
1  undef
</PRE>

<P>

<H4><A NAME="SECTION008210020000000000000">
Ejemplo: cadenas de la forma <I>una</I>-otra-otra-<I>una</I></A>
</H4>
  

<P>
La siguiente búsqueda casa con patrones de la forma 
<code>$x$x</code> o <code>$x$y$y$x</code>:

<P>
<PRE>
pl@nereida:~/Lperltesting$ perl5.10.1 -wde 0
main::(-e:1):   0
  DB&lt;1&gt; x 'aa' =~ m{^(\w+)(\w+)?(?(2)\2\1|\1)$}
0  'a'
1  undef
  DB&lt;2&gt; x 'abba' =~ m{^(\w+)(\w+)?(?(2)\2\1|\1)$}
0  'a'
1  'b'
  DB&lt;3&gt; x 'abbc' =~ m{^(\w+)(\w+)?(?(2)\2\1|\1)$}
  empty array
  DB&lt;4&gt; x 'juanpedropedrojuan' =~ m{^(\w+)(\w+)?(?(2)\2\1|\1)$}
0  'juan'
1  'pedro'
</PRE>

<P>

<H4><A NAME="SECTION008210030000000000000">
Condiciones: Código</A>
</H4>
  

<P>
Una expresión condicional también puede ser un código:
<PRE>
  DB&lt;1&gt; $a = 0; print "$&amp;" if 'hola' =~ m{(?(?{$a})hola|adios)} # No hay matching

  DB&lt;2&gt; $a = 1; print "$&amp;" if 'hola' =~ m{(?(?{$a})hola|adios)}
hola
</PRE>

<P>

<H4><A NAME="SECTION008210040000000000000">
Ejemplo: Cadenas con posible paréntesis inicial (no anidados)</A>
</H4>
  

<P>
La siguiente expresión regular utiliza un condicional
para forzar a que si una cadena comienza por un paréntesis
abrir termina con un paréntesis cerrar. Si la cadena 
no comienza por paréntesis abrir no debe existir un paréntesis
final de cierre:

<P>

<pre>
pl@nereida:~/Lperltesting$ cat -n conditionalregexp.pl
<span class="synLinenum">    1</span>   <span class="synComment">#!/usr/local/lib/perl/5.10.1/bin//perl5.10.1 -w</span>
<span class="synLinenum">    2</span>   <span class="synStatement">use </span>v5.<span class="synConstant">10</span>;
<span class="synLinenum">    3</span>   <span class="synStatement">use strict</span>;
<span class="synLinenum">    4</span> 
<span class="synLinenum">    5</span>   <span class="synStatement">my</span> <span class="synIdentifier">$r</span> = <span class="synConstant">qr{</span><span class="synSpecial">(?x)</span><span class="synConstant">                # ignore spaces</span>
<span class="synLinenum">    6</span> <span class="synConstant">              ^</span>
<span class="synLinenum">    7</span> <span class="synConstant">              </span><span class="synSpecial">(</span><span class="synConstant"> </span><span class="synSpecial">\(</span><span class="synConstant"> </span><span class="synSpecial">)?</span><span class="synConstant">            # may be it comes an open par</span>
<span class="synLinenum">    8</span> <span class="synConstant">              </span><span class="synSpecial">[^()]+</span><span class="synConstant">             # no parenthesis</span>
<span class="synLinenum">    9</span> <span class="synConstant">              </span><span class="synSpecial">(?(</span><span class="synConstant">1</span><span class="synSpecial">)</span><span class="synConstant">              # did we sart with par</span><span class="synSpecial">?</span>
<span class="synLinenum">   10</span> <span class="synConstant">                </span><span class="synSpecial">\)</span><span class="synConstant">               # if yes then close par</span>
<span class="synLinenum">   11</span> <span class="synConstant">              </span><span class="synSpecial">)</span>
<span class="synLinenum">   12</span> <span class="synConstant">              $</span>
<span class="synLinenum">   13</span> <span class="synConstant">            }</span>;
<span class="synLinenum">   14</span>   say <span class="synConstant">"&lt;</span><span class="synIdentifier">$&amp;</span><span class="synConstant">&gt;"</span> <span class="synStatement">if</span> <span class="synConstant">'(abcd)'</span> =~ <span class="synIdentifier">$r</span>;
<span class="synLinenum">   15</span>   say <span class="synConstant">"&lt;</span><span class="synIdentifier">$&amp;</span><span class="synConstant">&gt;"</span> <span class="synStatement">if</span> <span class="synConstant">'abc'</span> =~ <span class="synIdentifier">$r</span>;
<span class="synLinenum">   16</span>   say <span class="synConstant">"&lt;(abc&gt; does not match"</span> <span class="synStatement">unless</span> <span class="synConstant">'(abc'</span> =~ <span class="synIdentifier">$r</span>;
<span class="synLinenum">   17</span>   say <span class="synConstant">"&lt;abc)&gt; does not match"</span> <span class="synStatement">unless</span> <span class="synConstant">'abc)'</span> =~ <span class="synIdentifier">$r</span>;
</pre>
<P>
Al ejecutar este programa se obtiene:
<PRE>
pl@nereida:~/Lperltesting$ ./conditionalregexp.pl
&lt;(abcd)&gt;
&lt;abc&gt;
&lt;(abc&gt; does not match
&lt;abc)&gt; does not match
</PRE>

<P>

<H4><A NAME="SECTION008210050000000000000">
Expresiones Condicionales con <TT>(R)</TT></A>
</H4>
  

<P>
El siguiente ejemplo muestra el uso de la condición <code>(R)</code>, la cual comprueba 
si la expresión ha sido evaluada dentro de una recursión:
<PRE>
pl@nereida:~/Lperltesting$ perl5.10.1 -wdE 0
main::(-e:1):   0
  DB&lt;1&gt; x 'bbaaaabb' =~ /(b(?(R)a+|(?0))b)/
0  'bbaaaabb'
  DB&lt;2&gt; x 'bb' =~ /(b(?(R)a+|(?0))b)/
  empty array
  DB&lt;3&gt; x 'bab' =~ /(b(?(R)a+|(?0))b)/
  empty array
  DB&lt;4&gt; x 'bbabb' =~ /(b(?(R)a+|(?0))b)/
0  'bbabb'
</PRE>
La sub-expresión regular <code>(?(R)a+|(?0))</code> dice:
si  esta siendo evaluada recursivamente admite <code>a+</code>
si no, evalúa la regexp completa recursivamente.

<P>

<H4><A NAME="SECTION008210060000000000000">
Ejemplo: Palíndromos con Equivalencia de Acentos Españoles</A>
</H4>
  

<P>
Se trata en este ejercicio de generalizar la expresión
regular introducida en la sección
<A HREF="node61.html#parrafo:palabrapalindromos">3.2.5</A>
para reconocer los palabra-palíndromos<A NAME="tex2html112"
  HREF="footnode.html#foot2684"><SUP>3.7</SUP></A>. Se trata de encontrar una regexp que acepte
que la lectura derecha e inversa de una frase en Español
pueda diferir en la acentuación (como es el caso
del clásico palíndromo <I>dábale arroz a la zorra 
el abad</I>). Una solución trivial es preprocesar 
la cadena eliminando los acentos. Supondremos sin embargo
que se quiere trabajar sobre la cadena original.
He aquí una solucion parcial (por
consideraciones de legibilidad sólo se consideran las vocales <code>a</code>
y <code>o</code>:

<P>

<pre>
<span class="synLinenum">    1</span> pl<span class="synIdentifier">@nereida</span>:~<span class="synStatement">/</span><span class="synConstant">Lperltesting$ cat spanishpalin</span><span class="synSpecial">.</span><span class="synConstant">pl</span>
<span class="synLinenum">    2</span> <span class="synConstant">#!</span><span class="synStatement">/</span>usr/<span class="synStatement">local</span>/lib/perl/<span class="synConstant">5.10</span>.<span class="synConstant">1</span>/bin//perl5.<span class="synConstant">10.1</span> <span class="synStatement">-w</span> -CIOEioA
<span class="synLinenum">    3</span> <span class="synStatement">use </span>v5.<span class="synConstant">10</span>;
<span class="synLinenum">    4</span> <span class="synStatement">use strict</span>;
<span class="synLinenum">    5</span> <span class="synStatement">use utf8</span>;
<span class="synLinenum">    6</span> 
<span class="synLinenum">    7</span> <span class="synStatement">my</span> <span class="synIdentifier">$regexp</span> = <span class="synConstant">qr/^</span><span class="synSpecial">(?</span><span class="synConstant">&lt;pal&gt;</span><span class="synSpecial">\W*</span><span class="synConstant"> </span><span class="synSpecial">(?:</span><span class="synConstant"> </span>
<span class="synLinenum">    8</span> <span class="synConstant">                            </span><span class="synSpecial">(?</span><span class="synConstant">&lt;L&gt;</span><span class="synSpecial">(?</span><span class="synConstant">&lt;a&gt;</span><span class="synSpecial">[áa])</span><span class="synConstant">|</span><span class="synSpecial">(?</span><span class="synConstant">&lt;e&gt;</span><span class="synSpecial">[ée])</span><span class="synConstant">|</span><span class="synSpecial">\w)</span><span class="synConstant"> # letter</span>
<span class="synLinenum">    9</span> <span class="synConstant">                            </span><span class="synSpecial">(?</span><span class="synConstant">&amp;pal</span><span class="synSpecial">)</span><span class="synConstant">                        # nested palindrome</span>
<span class="synLinenum">   10</span> <span class="synConstant">                            </span><span class="synSpecial">(?(</span><span class="synConstant">&lt;a&gt;</span><span class="synSpecial">)[áa]</span><span class="synConstant">                    # if is an "a" group</span>
<span class="synLinenum">   11</span> <span class="synConstant">                                  |</span><span class="synSpecial">(?:((?</span><span class="synConstant">&lt;e&gt;</span><span class="synSpecial">)[ée]</span><span class="synConstant">          # if is an "e" group</span>
<span class="synLinenum">   12</span> <span class="synConstant">                                            |</span><span class="synSpecial">\g</span><span class="synConstant">{L}         # exact match</span>
<span class="synLinenum">   13</span> <span class="synConstant">                                      </span><span class="synSpecial">)</span><span class="synConstant">                    # end if </span><span class="synSpecial">[ée]</span>
<span class="synLinenum">   14</span> <span class="synConstant">                                   </span><span class="synSpecial">)</span><span class="synConstant">                       # end group</span>
<span class="synLinenum">   15</span> <span class="synConstant">                            </span><span class="synSpecial">)</span><span class="synConstant">                              # end if </span><span class="synSpecial">[áa]</span>
<span class="synLinenum">   16</span> <span class="synConstant">                          | </span><span class="synSpecial">\w?</span><span class="synConstant">                            # non rec</span><span class="synSpecial">.</span><span class="synConstant"> case</span>
<span class="synLinenum">   17</span> <span class="synConstant">                      </span><span class="synSpecial">)</span><span class="synConstant"> </span><span class="synSpecial">\W*</span><span class="synConstant">                                # punctuation symbols</span>
<span class="synLinenum">   18</span> <span class="synConstant">                  </span><span class="synSpecial">)</span>
<span class="synLinenum">   19</span> <span class="synConstant">                $</span>
<span class="synLinenum">   20</span> <span class="synConstant">               /ix</span>;
<span class="synLinenum">   21</span> 
<span class="synLinenum">   22</span> <span class="synStatement">my</span> <span class="synIdentifier">$input</span> = &lt;&gt;; <span class="synComment"># Try: 'dábale arroz a la zorra el abad';</span>
<span class="synLinenum">   23</span> <span class="synStatement">chomp</span>(<span class="synIdentifier">$input</span>);
<span class="synLinenum">   24</span> <span class="synStatement">if</span> (<span class="synIdentifier">$input</span> =~ <span class="synIdentifier">$regexp</span>) {
<span class="synLinenum">   25</span>   say <span class="synConstant">"</span><span class="synIdentifier">$input</span><span class="synConstant"> is a palindrome"</span>;
<span class="synLinenum">   26</span> }
<span class="synLinenum">   27</span> <span class="synStatement">else</span> {
<span class="synLinenum">   28</span>   say <span class="synConstant">"</span><span class="synIdentifier">$input</span><span class="synConstant"> does not match"</span>;
<span class="synLinenum">   29</span> }
</pre>

<P>
Ejecución:

<P>

<pre>
pl@nereida:~/Lperltesting$ ./spanishpalin.pl
<span class="dbuser">dábale arroz a la zorra el abad</span>
dábale arroz a la zorra el abad is a palindrome
pl@nereida:~/Lperltesting$ ./spanishpalin.pl
<span class="dbuser">óuuo</span>
óuuo does not match
pl@nereida:~/Lperltesting$ ./spanishpalin.pl
<span class="dbuser">éaáe</span>
éaáe is a palindrome
</pre>

<P>
Hemos usado la opción <code>-CIOEioA</code> para asegurarnos
que los ficheros de entrada/saldia y error y la línea de
comandos estan en modo UTF-8.
(Véase la sección <A HREF="node68.html#section:unicode"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>)

<P>
Esto es lo que dice la documentación de <A NAME="tex2html113"
  HREF="http://search.cpan.org/perldoc/?perlrun "><TT>perlrun </TT></A>
al respecto:

<P>
<BLOCKQUOTE><I>The <code>-C</code> flag controls some of the Perl Unicode features.
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>As of 5.8.1, the <code>-C</code> can be followed either by a number or a list of option
letters. The letters, their numeric values, and effects are as follows;
listing the letters is equal to summing the numbers.
</I></BLOCKQUOTE>
<P><PRE>
  1   I 1 STDIN is assumed to be in UTF-8
  2   O 2 STDOUT will be in UTF-8
  3   E 4 STDERR will be in UTF-8
  4   S 7 I + O + E
  5   i 8 UTF-8 is the default PerlIO layer for input streams
  6   o 16 UTF-8 is the default PerlIO layer for output streams
  7   D 24 i + o
  8   A 32 the @ARGV elements are expected to be strings encoded
  9   in UTF-8
 10   L 64 normally the "IOEioA" are unconditional,
 11   the L makes them conditional on the locale environment
 12   variables (the LC_ALL, LC_TYPE, and LANG, in the order
 13   of decreasing precedence) -- if the variables indicate
 14   UTF-8, then the selected "IOEioA" are in effect
 15   a 256 Set ${^UTF8CACHE} to -1, to run the UTF-8 caching code in
 16   debugging mode.
</PRE>
<P>
<BLOCKQUOTE><I>For example, <code>-COE</code> and <code>-C6</code> will both turn on UTF-8-ness
on both <code>STDOUT</code> and <code>STDERR</code>. Repeating letters is just redundant, not
cumulative nor toggling.
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>The io options mean that any subsequent <code>open()</code> (or similar I/O operations)
will have the <code>:utf8</code> PerlIO layer implicitly applied to them, in other
words, <code>UTF-8</code> is expected from any input stream, and <code>UTF-8</code> is produced
to any output stream. This is just the default, with explicit layers in
<code>open()</code> and with <code>binmode()</code> one can manipulate streams as usual.
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I><code>-C</code> on its own (not followed by any number or option list), or the empty string 
<code>""</code> for the <code>PERL_UNICODE</code> environment variable, has the same effect as <code>-CSDL</code> . 
In other words, the standard I/O handles and the default<code>open()</code> layer are 
UTF-8-fied but only if the locale environment variables indicate a
UTF-8 locale. This behaviour follows the implicit (and problematic)
UTF-8 behaviour of Perl 5.8.0.
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>You can use <code>-C0</code> (or <code>0</code> for <code>PERL_UNICODE</code> ) to explicitly disable all
the above Unicode features.
</I></BLOCKQUOTE>

<P>
El pragma <code>use utf8</code> hace que se utilice una semántica de
carácteres (por ejemplo, la regexp <code>/./</code> casará con un carácter unicode), el
pragma <code>use bytes</code> cambia de semántica de caracteres
a semántica de bytes (la regexp <code>.</code> casará con un byte).

<P>

<pre>
lhp<span class="synIdentifier">@nereida</span>:~<span class="synStatement">/</span><span class="synConstant">Lperl</span><span class="synStatement">/s</span>rc/testing$ cat -n dot_utf8_2.pl
     <span class="synConstant">1</span>  <span class="synComment">#!/usr/local/bin/perl -w</span>
     <span class="synConstant">2</span>  <span class="synStatement">use strict</span>;
     <span class="synConstant">3</span>  <span class="synStatement">use utf8</span>;
     <span class="synConstant">4</span>  <span class="synStatement">use </span>charnames <span class="synConstant">qw{greek}</span>;
     <span class="synConstant">5</span>
     <span class="synConstant">6</span>  <span class="synStatement">binmode</span>(<span class="synIdentifier">STDOUT</span>, <span class="synConstant">':utf8'</span>);
     <span class="synConstant">7</span>
     <span class="synConstant">8</span>  <span class="synStatement">my</span> <span class="synIdentifier">$x</span> = <span class="synConstant">'αβγδεφ'</span>;
     <span class="synConstant">9</span>
    <span class="synConstant">10</span>  <span class="synStatement">my</span> <span class="synIdentifier">@w</span> = <span class="synIdentifier">$x</span> =~<span class="synStatement"> /</span><span class="synSpecial">(.)</span><span class="synStatement">/g</span>;
    <span class="synConstant">11</span>  <span class="synStatement">print</span> <span class="synConstant">"</span><span class="synIdentifier">@w</span><span class="synSpecial">\n</span><span class="synConstant">"</span>;
    <span class="synConstant">12</span>
    <span class="synConstant">13</span>  {
    <span class="synConstant">14</span>    <span class="synStatement">use </span>bytes;
    <span class="synConstant">15</span>    <span class="synStatement">my</span> <span class="synIdentifier">@v</span> = <span class="synStatement">map</span> { <span class="synStatement">ord</span> } <span class="synIdentifier">$x</span> =~<span class="synStatement"> /</span><span class="synSpecial">(.)</span><span class="synStatement">/g</span>;
    <span class="synConstant">16</span>    <span class="synStatement">print</span> <span class="synConstant">"</span><span class="synIdentifier">@v</span><span class="synSpecial">\n</span><span class="synConstant">"</span>;
    <span class="synConstant">17</span>  }
</pre>

Al ejcutar el programa obtenemos la salida:
<pre>
pl@nereida:~/Lperltesting$ <span class="dbuser">perl dot_utf8_2.pl</span>
α β γ δ ε φ
206 177 206 178 206 179 206 180 206 181 207 134

</pre>

<P>
<HR>
<A NAME="tex2html2155"
  HREF="node67.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2149"
  HREF="node56.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2143"
  HREF="node65.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2151"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2153"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2156"
  HREF="node67.html">Verbos que controlan el</A>
<B>Sup:</B> <A NAME="tex2html2150"
  HREF="node56.html">Algunas Extensiones</A>
<B> Ant:</B> <A NAME="tex2html2144"
  HREF="node65.html">Expresiones Regulares en tiempo</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2013-03-05</I>
</ADDRESS>
</BODY>
</HTML>
