<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Renombrando los resultados de una subregla</TITLE>
<META NAME="description" CONTENT="Renombrando los resultados de una subregla">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node89.html">
<LINK REL="previous" HREF="node87.html">
<LINK REL="up" HREF="node85.html">
<LINK REL="next" HREF="node89.html">
</HEAD>

<BODY >

<A NAME="tex2html2599"
  HREF="node89.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2593"
  HREF="node85.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2587"
  HREF="node87.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2595"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2597"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2600"
  HREF="node89.html">Listas</A>
<B>Sup:</B> <A NAME="tex2html2594"
  HREF="node85.html">Análisis Sintáctico con Regexp::Grammars</A>
<B> Ant:</B> <A NAME="tex2html2588"
  HREF="node87.html">Objetos</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>
<BR> <P>

<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL>
<LI><UL>
<LI><A NAME="tex2html2601"
  HREF="node88.html#SECTION008113010000000000000">Nombre de la regla versus Nombre del Resultado</A>
<LI><A NAME="tex2html2602"
  HREF="node88.html#SECTION008113020000000000000">Colisión de nombres de reglas</A>
<LI><A NAME="tex2html2603"
  HREF="node88.html#SECTION008113030000000000000">Aliasing</A>
<LI><A NAME="tex2html2604"
  HREF="node88.html#SECTION008113040000000000000">Normalización de los resultados mediante aliasing</A>
<LI><A NAME="tex2html2605"
  HREF="node88.html#SECTION008113050000000000000">Ejemplo</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION008113000000000000000">
Renombrando los resultados de una subregla</A>
</H2>

<P>

<H4><A NAME="SECTION008113010000000000000">
Nombre de la regla versus Nombre del Resultado</A>
</H4>
  

<P>
No siempre el nombre de la regla es el mas apropiado
para ser el nombre del resultado:

<P>
<BLOCKQUOTE><I>It is not always convenient to have subrule results stored under the same
name as the rule itself. Rule names should be optimized for understanding
the behaviour of the parser, whereas result names should be optimized
for understanding the structure of the data. Often those two goals are
identical, but not always; sometimes rule names need to describe what the
data looks like, while result names need to describe what the data means.
</I></BLOCKQUOTE>

<P>

<H4><A NAME="SECTION008113020000000000000">
Colisión de nombres de reglas</A>
</H4>
  

<P>
<BLOCKQUOTE><I>For example, sometimes you need to call the same rule twice, to match two
syntactically identical components whose positions give then semantically
distinct meanings:
</I></BLOCKQUOTE>
<P><PRE>
    &lt;rule: copy_cmd&gt;
        copy &lt;file&gt; &lt;file&gt;
</PRE>
<P>
<BLOCKQUOTE><I>The problem here is that, if the second call to <code>&lt;file&gt;</code> succeeds, its
result-hash will be stored under the key <code>file</code>, clobbering the data
that was returned from the first call to <code>&lt;file&gt;</code>.
</I></BLOCKQUOTE>

<P>

<H4><A NAME="SECTION008113030000000000000">
Aliasing</A>
</H4>
  

<P>
<BLOCKQUOTE><I>To avoid such problems, <A NAME="tex2html191"
  HREF="http://search.cpan.org/perldoc?Regexp::Grammars">Regexp::Grammars</A>
allows you to alias any
subrule call, so that it is still invoked by the original name, but its
result-hash is stored under a different key. The syntax for that is:
<code>&lt;alias=rulename&gt;</code>. For example:
</I></BLOCKQUOTE>
<P><PRE>
    &lt;rule: copy_cmd&gt;
        copy &lt;from=file&gt; &lt;to=file&gt;
</PRE>
<P>
<BLOCKQUOTE><I>Here, <code>&lt;rule: file&gt;</code> is called twice, with the first result-hash
being stored under the key <code>from</code>, and the second result-hash being
stored under the key <code>to</code>.
</I></BLOCKQUOTE>
<P>
<BLOCKQUOTE><I>Note, however, that the alias before the <code>=</code> must be a proper identifier
(i.e. a letter or underscore, followed by letters, digits, and/or
underscores). Aliases that start with an underscore and aliases named
<code>MATCH</code> have special meaning.
</I></BLOCKQUOTE>

<P>

<H4><A NAME="SECTION008113040000000000000">
Normalización de los resultados mediante aliasing</A>
</H4>
  

<P>
<BLOCKQUOTE><I>Aliases can also be useful for normalizing data that may appear in
different formats and sequences. For example:
</I></BLOCKQUOTE>
<P><PRE>
    &lt;rule: copy_cmd&gt;
        copy &lt;from=file&gt;        &lt;to=file&gt;
      | dup    &lt;to=file&gt;  as  &lt;from=file&gt;
      |      &lt;from=file&gt;  -&gt;    &lt;to=file&gt;
      |        &lt;to=file&gt;  &lt;-  &lt;from=file&gt;
</PRE>
<P>
<BLOCKQUOTE><I>Here, regardless of which order the old and new files are specified,
the result-hash always gets:
</I></BLOCKQUOTE>
<P><PRE>
    copy_cmd =&gt; {
        from =&gt; 'oldfile',
          to =&gt; 'newfile',
    }
</PRE>

<P>

<H4><A NAME="SECTION008113050000000000000">
Ejemplo</A>
</H4>
  

<P>
El siguiente programa ilustra los comentarios de la documentación:

<P>
<PRE>
pl@nereida:~/Lregexpgrammars/demo$ cat -n copygrammar.pl
     1  use strict;
     2  use warnings;
     3  use 5.010;
     4  use Data::Dumper;
     5
     6  my $rbb = do {
     7      use Regexp::Grammars;
     8      qr{
     9        &lt;copy_cmd&gt;
    10
    11        &lt;rule: copy_cmd&gt;
    12              copy &lt;from=file&gt; &lt;to=file&gt;
    13          |   &lt;from=file&gt; -&gt;   &lt;to=file&gt;
    14          |   &lt;to=file&gt;   &lt;- &lt;from=file&gt;
    15
    16        &lt;token: file&gt; [\w./\\]+
    17      }x;
    18  };
    19
    20  while (my $input = &lt;&gt;) {
    21      while ($input =~ m{$rbb}g) {
    22          say("matches: &lt;$&amp;&gt;");
    23          say Dumper \%/;
    24      }
    25  }
</PRE>
Cuando lo ejecutamos obtenemos:
<PRE>
pl@nereida:~/Lregexpgrammars/demo$ perl5.10.1 copygrammar.pl
copy a b
matches: &lt;copy a b&gt;
$VAR1 = {
          '' =&gt; 'copy a b',
          'copy_cmd' =&gt; {
                          '' =&gt; 'copy a b',
                          'to' =&gt; 'b',
                          'from' =&gt; 'a'
                        }
        };

b &lt;- a
matches: &lt;b &lt;- a&gt;
$VAR1 = {
          '' =&gt; 'b &lt;- a',
          'copy_cmd' =&gt; {
                          '' =&gt; 'b &lt;- a',
                          'to' =&gt; 'b',
                          'from' =&gt; 'a'
                        }
        };

a -&gt; b
matches: &lt;a -&gt; b&gt;
$VAR1 = {
          '' =&gt; 'a -&gt; b',
          'copy_cmd' =&gt; {
                          '' =&gt; 'a -&gt; b',
                          'to' =&gt; 'b',
                          'from' =&gt; 'a'
                        }
        };
</PRE>

<P>
<HR>
<A NAME="tex2html2599"
  HREF="node89.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2593"
  HREF="node85.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2587"
  HREF="node87.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2595"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2597"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html2600"
  HREF="node89.html">Listas</A>
<B>Sup:</B> <A NAME="tex2html2594"
  HREF="node85.html">Análisis Sintáctico con Regexp::Grammars</A>
<B> Ant:</B> <A NAME="tex2html2588"
  HREF="node87.html">Objetos</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2013-03-05</I>
</ADDRESS>
</BODY>
</HTML>
