<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Patrones Árbol y Transformaciones Árbol</TITLE>
<META NAME="description" CONTENT="Patrones Árbol y Transformaciones Árbol">
<META NAME="keywords" CONTENT="perlexamples">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="mystyle.css">

<LINK REL="next" HREF="node271.html">
<LINK REL="previous" HREF="node269.html">
<LINK REL="up" HREF="node267.html">
<LINK REL="next" HREF="node271.html">
</HEAD>

<BODY >

<A NAME="tex2html5531"
  HREF="node271.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html5525"
  HREF="node267.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html5519"
  HREF="node269.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html5527"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html5529"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html5532"
  HREF="node271.html">El método m</A>
<B>Sup:</B> <A NAME="tex2html5526"
  HREF="node267.html">Transformaciones Árbol con Parse::Eyapp</A>
<B> Ant:</B> <A NAME="tex2html5520"
  HREF="node269.html">Selección de Código y</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>
<BR> <P>

<!--End of Navigation Panel-->

<H1><A NAME="SECTION001530000000000000000"></A>
<A NAME="section:eyappatronesarbol"></A>
<BR>
Patrones Árbol y Transformaciones Árbol
</H1>
Una transformación de un programa puede ser descrita
como un conjunto de <A NAME="22655"></A><B>reglas de transformación</B> 
o <A NAME="22657"></A><B>esquema de traducción árbol</B>
sobre el árbol abstracto que representa el programa.

<P>
En su forma mas sencilla, estas reglas de transformación
vienen definidas
por ternas <!-- MATH
 $(p, e, action)$
 -->
<IMG
 WIDTH="99" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img266.png"
 ALT="$ (p, e, action)$">
, donde la primera componente de la
terna <IMG
 WIDTH="14" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img192.png"
 ALT="$ p$">
 es un <A NAME="22659"></A><B>patrón árbol</B> que dice que árboles
deben ser seleccionados. La segunda componente 
<IMG
 WIDTH="13" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img267.png"
 ALT="$ e$">
 dice cómo debe transformarse el árbol que casa con el patrón
<IMG
 WIDTH="14" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img192.png"
 ALT="$ p$">
. La acción <IMG
 WIDTH="53" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img268.png"
 ALT="$ action$">
 indica como deben
computarse los atributos del árbol transformado
a partir de los atributos 
del árbol que casa con el patrón <IMG
 WIDTH="14" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img192.png"
 ALT="$ p$">
.
Una forma de representar este esquema sería:

<P>
<DIV ALIGN="CENTER">
<!-- MATH
 $p \Longrightarrow e$
 -->
<IMG
 WIDTH="59" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img269.png"
 ALT="$ p \Longrightarrow e$">
 <code>{ action }</code>

</DIV>

<P>
Por ejemplo:

<P>
<BR>
<BR>
<!-- MATH
 $PLUS(NUM_1, NUM_2) \Longrightarrow NUM_3$
 -->
<IMG
 WIDTH="277" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img270.png"
 ALT="$ PLUS(NUM_1, NUM_2) \Longrightarrow NUM_3$">
 <code>{ $NUM_3{VAL} = $NUM_1{VAL} + $NUM_2{VAL} }</code>
<BR>
<BR>

<P>
cuyo significado es que dondequiera que haya un nódo del AAA que case 
con el <A NAME="22661"></A><B>patrón de entrada</B> <!-- MATH
 $PLUS(NUM, NUM)$
 -->
<IMG
 WIDTH="173" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img271.png"
 ALT="$ PLUS(NUM, NUM)$">
 deberá sustituirse
el subárbol <!-- MATH
 $PLUS(NUM, NUM)$
 -->
<IMG
 WIDTH="173" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img271.png"
 ALT="$ PLUS(NUM, NUM)$">
 por el subárbol <IMG
 WIDTH="53" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img120.png"
 ALT="$ NUM$">
. Al igual que en los 
esquemas de traducción, enumeramos las apariciones de los símbolos,
para distinguirlos en la parte semántica. La acción indica 
como deben recomputarse los atributos para el nuevo árbol:
El atributo <code>VAL</code> del árbol resultante es la suma de los atributos
<code>VAL</code> de los operandos en el árbol que ha casado.
La transformación se repite hasta que se produce la <A NAME="22663"></A><B>normalización del árbol</B>.

<P>
Las reglas de ``casamiento''  de árboles pueden ser mas complejas, 
haciendo alusión a propiedades de los atributos, por ejemplo

<P>
<BR>
<BR>
<!-- MATH
 $ASSIGN(LEFTVALUE, x)\ and$
 -->
<IMG
 WIDTH="264" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img272.png"
 ALT="$ ASSIGN(LEFTVALUE, x) and$">
 <code>{ notlive($LEFTVALUE{VAL}) }</code> <!-- MATH
 $\Longrightarrow NIL$
 -->
<IMG
 WIDTH="75" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img273.png"
 ALT="$ \Longrightarrow NIL$">

<BR>
<BR>

<P>
indica que se pueden eliminar aquellos árboles de tipo asignación
en los cuáles la variable asociada con el nodo <IMG
 WIDTH="123" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img227.png"
 ALT="$ LEFTVALUE$">

no se usa posteriormente. 

<P>
Otros ejemplos con variables <IMG
 WIDTH="23" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img274.png"
 ALT="$ S_1$">
 y <IMG
 WIDTH="23" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img275.png"
 ALT="$ S_2$">
:

<P>
<DIV ALIGN="CENTER">
<!-- MATH
 $IFELSE(NUM, S_1, S_2)$
 -->
<IMG
 WIDTH="192" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img276.png"
 ALT="$ IFELSE(NUM, S_1, S_2)$">
 and <code>{ $NUM{VAL} != 0 }</code> <!-- MATH
 $\Longrightarrow S_1$
 -->
<IMG
 WIDTH="56" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img277.png"
 ALT="$ \Longrightarrow S_1$">

<BR><!-- MATH
 $IFELSE(NUM, S_1, S_2)$
 -->
<IMG
 WIDTH="192" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img276.png"
 ALT="$ IFELSE(NUM, S_1, S_2)$">
 and <code>{ $NUM{VAL} == 0 }</code> <!-- MATH
 $\Longrightarrow S_2$
 -->
<IMG
 WIDTH="56" HEIGHT="32" ALIGN="MIDDLE" BORDER="0"
 SRC="img278.png"
 ALT="$ \Longrightarrow S_2$">

</DIV>

<P>
Observe que en el patrón de entrada <!-- MATH
 $ASSIGN(LEFTVALUE, x)$
 -->
<IMG
 WIDTH="230" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img279.png"
 ALT="$ ASSIGN(LEFTVALUE, x)$">
 aparece un
``comodín'': la variable-árbol <IMG
 WIDTH="15" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img47.png"
 ALT="$ x$">
, que hace que el árbol
patrón <!-- MATH
 $ASSIGN(LEFTVALUE, x)$
 -->
<IMG
 WIDTH="230" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img279.png"
 ALT="$ ASSIGN(LEFTVALUE, x)$">
 case con cualquier árbol de asignación,
independientemente de la forma que tenga su subárbol derecho.

<P>
Las siguientes definiciones formalizan una aproximación simplificada 
al significado de los conceptos <A NAME="22665"></A><B>patrones árbol</B> y
<A NAME="22667"></A><B>casamiento de árboles</B>.

<P>

<H4><A NAME="SECTION001530010000000000000">
Patrón Árbol</A>
</H4>
  

<P>
<DIV><B>Definición  10.3.1</B> &nbsp; 
<I>Sea <!-- MATH
 $(\Sigma, \rho)$
 -->
<IMG
 WIDTH="48" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img158.png"
 ALT="$ (\Sigma, \rho)$">
 un alfabeto con función de aridad
y un conjunto (puede ser infinito) 
de variables <!-- MATH
 $V =\{ x_1, x_2, \ldots \}$
 -->
<IMG
 WIDTH="130" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img280.png"
 ALT="$ V =\{ x_1, x_2, \ldots \}$">
. 
Las variables tienen
aridad cero: 
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $\rho(x) = 0\ \forall x \in V$
 -->
<IMG
 WIDTH="130" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img281.png"
 ALT="$ \rho(x) = 0 \forall x \in V$">
. 
</I></DIV>
<P>
<I>Un elemento de <!-- MATH
 $B(V \cup \Sigma)$
 -->
<IMG
 WIDTH="78" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img282.png"
 ALT="$ B(V \cup \Sigma)$">

se denomina <A NAME="22673"></A><B>patrón</B> sobre <IMG
 WIDTH="17" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img22.png"
 ALT="$ \Sigma$">
.</I></DIV><P></P>

<P>

<H4><A NAME="SECTION001530020000000000000">
Patrón Lineal</A>
</H4>
  

<P>
<DIV><B>Definición  10.3.2</B> &nbsp; 
<I>Se dice que un
patrón es un <A NAME="22679"></A><B>patrón lineal</B> si ninguna variable se repite.</I></DIV><P></P>

<P>
<P>
<DIV><B>Definición  10.3.3</B> &nbsp; 
<I>Se dice que un patrón es de tipo <!-- MATH
 $(x_1, \ldots x_k)$
 -->
<IMG
 WIDTH="85" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img283.png"
 ALT="$ (x_1, \ldots x_k)$">
 si las variables
que aparecen en el patrón leidas de izquierda a derecha en el árbol
son <!-- MATH
 $x_1, \ldots x_k$
 -->
<IMG
 WIDTH="71" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img284.png"
 ALT="$ x_1, \ldots x_k$">
.</I></DIV><P></P>

<P>
<P>
<DIV><B>Ejemplo  10.3.1</B> &nbsp; 
<I>Sea <!-- MATH
 $\Sigma = \{A, CONS, NIL \}$
 -->
<IMG
 WIDTH="178" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img168.png"
 ALT="$ \Sigma = \{A, CONS, NIL \}$">
 con <!-- MATH
 $\rho(A) = \rho(NIL) = 0, \rho(CONS) = 2$
 -->
<IMG
 WIDTH="272" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img169.png"
 ALT="$ \rho(A) = \rho(NIL) = 0, \rho(CONS) = 2$">

y sea <!-- MATH
 $V = \{ x \}$
 -->
<IMG
 WIDTH="69" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img285.png"
 ALT="$ V = \{ x \}$">
. Los siguientes árboles son ejemplos de 
patrones sobre <IMG
 WIDTH="17" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img22.png"
 ALT="$ \Sigma$">
:
</I>
<P>
<DIV ALIGN="CENTER"><I>{ <!-- MATH
 $x, CONS(A, x), CONS(A, CONS(x, NIL)), \ldots \}$
 -->
<IMG
 WIDTH="379" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img286.png"
 ALT="$ x, CONS(A, x), CONS(A, CONS(x, NIL)), \ldots \}$">
</I></DIV>
<P>
<I>El patrón <!-- MATH
 $CONS(x, CONS(x, NIL))$
 -->
<IMG
 WIDTH="214" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img287.png"
 ALT="$ CONS(x, CONS(x, NIL))$">
 es un ejemplo de patrón no lineal.
La idea es que un patrón lineal como éste ``fuerza'' a que los árboles <IMG
 WIDTH="11" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img187.png"
 ALT="$ t$">

que casen con el patrón deben tener iguales los dos correspondientes
subárboles <IMG
 WIDTH="29" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img288.png"
 ALT="$ t/1$">
 y <!-- MATH
 $t/2 \ldotp 1$
 -->
<IMG
 WIDTH="45" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img244.png"
 ALT="$ t/2\ldotp1$">
 situados en las posiciones de las variables
<A NAME="tex2html270"
  HREF="footnode.html#foot22532"><SUP>10.1</SUP></A></I>
<P></DIV><P></P>

<P>
<P>
<DIV><B>Ejercicio  10.3.1</B> &nbsp; 
<I>Dado la gramática árbol:
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $S \rightarrow S_1(a, S, b)$
 -->
<IMG
 WIDTH="118" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img289.png"
 ALT="$ S \rightarrow S_1(a, S, b)$">

<BR><!-- MATH
 $S \rightarrow S_2(NIL)$
 -->
<IMG
 WIDTH="112" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img290.png"
 ALT="$ S \rightarrow S_2(NIL)$">
</I></DIV>
<P>
<I>la cuál genera los árboles concretos para la gramática
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $S \rightarrow aSb$
 -->
<IMG
 WIDTH="72" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img291.png"
 ALT="$ S \rightarrow aSb$">
 <IMG
 WIDTH="10" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img49.png"
 ALT="$ \vert$">
 <IMG
 WIDTH="12" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img19.png"
 ALT="$ \epsilon$">
</I></DIV>
<P>
<I>¿Es <!-- MATH
 $S_1(a, X(NIL), b)$
 -->
<IMG
 WIDTH="135" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img292.png"
 ALT="$ S_1(a, X(NIL), b)$">
 un patrón árbol sobre el conjunto de variables <IMG
 WIDTH="59" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img293.png"
 ALT="$ \{X, Y\}$">
?
¿Lo es <!-- MATH
 $S_1(X, Y, a)$
 -->
<IMG
 WIDTH="87" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img294.png"
 ALT="$ S_1(X, Y, a)$">
? ¿Es <!-- MATH
 $S_1(X, Y, Y)$
 -->
<IMG
 WIDTH="92" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img295.png"
 ALT="$ S_1(X, Y, Y)$">
 un patrón árbol?</I></DIV><P></P>

<P>
<P>
<DIV><B>Ejemplo  10.3.2</B> &nbsp; 
<I>Ejemplos de patrones para el AAA definido en el ejemplo
<A HREF="node148.html#example:tutuast">4.9.2</A> para el lenguaje Tutu son:
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $x, y, PLUS(x, y), ASSIGN(x, TIMES(y,ID)), PRINT(y) \ldots$
 -->
<IMG
 WIDTH="483" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img296.png"
 ALT="$ x, y, PLUS(x, y), ASSIGN(x, TIMES(y,ID)), PRINT(y) \ldots$">
</I></DIV>
<P>
<I>considerando el conjunto de variables <!-- MATH
 $V = \{ x, y \}$
 -->
<IMG
 WIDTH="86" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img297.png"
 ALT="$ V = \{ x, y \}$">
. El patrón 
<!-- MATH
 $ASSIGN(x, TIMES(y,ID))$
 -->
<IMG
 WIDTH="232" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img298.png"
 ALT="$ ASSIGN(x, TIMES(y,ID))$">
 es del tipo <IMG
 WIDTH="45" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img299.png"
 ALT="$ (x, y)$">
.</I></DIV><P></P>

<P>

<H4><A NAME="SECTION001530030000000000000">
Sustitución</A>
</H4>
  

<P>
<DIV><B>Definición  10.3.4</B> &nbsp; 
<I>Una <A NAME="22685"></A><B>sustitución árbol</B> es una aplicación <IMG
 WIDTH="13" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img300.png"
 ALT="$ \theta$">
 que asigna variables
a patrones <!-- MATH
 $\theta: V \rightarrow B(V \cup \Sigma)$
 -->
<IMG
 WIDTH="143" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img301.png"
 ALT="$ \theta: V \rightarrow B(V \cup \Sigma)$">
.
</I>
<P>
<I>Tal función puede ser naturalmente extendida de las variables
a los árboles: los nodos (hoja) etiquetados con dichas variables son sustituidos
por los correspondientes subárboles.
</I>
<P>
<DIV ALIGN="CENTER"><TABLE CELLPADDING=3>
<TR><TD ALIGN="LEFT"><I>
<!-- MATH
 $\theta : B(V \cup \Sigma) \rightarrow B(V \cup \Sigma)$
 -->
<IMG
 WIDTH="202" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img302.png"
 ALT="$ \theta : B(V \cup \Sigma) \rightarrow B(V \cup \Sigma)$">
</I></TD>
</TR>
<TR><TD ALIGN="LEFT"><I> 
<!-- MATH
 $t \theta = \left \{ \begin{array}{ll}
                         x \theta & \mbox{si $t = x \in V$}\\
                         a(t_1  \theta, \ldots, t_k \theta) & \mbox{si $t = a(t_1, \ldots, t_k)$} 
                      \end{array}
             \right.$
 -->
<IMG
 WIDTH="334" HEIGHT="62" ALIGN="MIDDLE" BORDER="0"
 SRC="img303.png"
 ALT="$ t \theta = \left \{ \begin{array}{ll}
x \theta &amp; \mbox{si $t = x \in V$}\\
a(...
... \ldots, t_k \theta) &amp; \mbox{si $t = a(t_1, \ldots, t_k)$}
\end{array}\right. $">
</I></TD>
</TR>
</TABLE></DIV>
<P>
<I>Obsérvese que, al revés de lo que es costumbre, la aplicación 
de la sustitución <IMG
 WIDTH="13" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img300.png"
 ALT="$ \theta$">
 al patrón se escribe por detrás: <IMG
 WIDTH="20" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img304.png"
 ALT="$ t \theta$">
.
</I>
<P>
<I>También se escribe <!-- MATH
 $t \theta = t\{x_1/x_1 \theta, \ldots x_k/x_k \theta\}$
 -->
<IMG
 WIDTH="204" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img305.png"
 ALT="$ t \theta = t\{x_1/x_1 \theta, \ldots x_k/x_k \theta\}$">
 si las variables
que aparecen en <IMG
 WIDTH="11" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img187.png"
 ALT="$ t$">
 de izquierda a derecha son <!-- MATH
 $x_1, \ldots x_k$
 -->
<IMG
 WIDTH="71" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img284.png"
 ALT="$ x_1, \ldots x_k$">
.</I></DIV><P></P>

<P>
<P>
<DIV><B>Ejemplo  10.3.3</B> &nbsp; 
<I>Si aplicamos la sustitución  <!-- MATH
 $\theta = \{x/A, y/CONS(A, NIL)\}$
 -->
<IMG
 WIDTH="237" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img306.png"
 ALT="$ \theta = \{x/A, y/CONS(A, NIL)\}$">

al patrón <!-- MATH
 $CONS(x, y)$
 -->
<IMG
 WIDTH="100" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img307.png"
 ALT="$ CONS(x, y)$">
 obtenemos el árbol <!-- MATH
 $CONS(A, CONS(A, NIL))$
 -->
<IMG
 WIDTH="220" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img211.png"
 ALT="$ CONS(A, CONS(A,NIL))$">
.
En efecto:
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $CONS(x, y)\theta = CONS(x\theta, y\theta) = CONS(A, CONS(A, NIL))$
 -->
<IMG
 WIDTH="484" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img308.png"
 ALT="$ CONS(x, y)\theta = CONS(x\theta, y\theta) = CONS(A, CONS(A, NIL))$">
</I></DIV>
<P></DIV><P></P>

<P>
<P>
<DIV><B>Ejemplo  10.3.4</B> &nbsp; 
<I>Si aplicamos la sustitución  <!-- MATH
 $\theta = \{x/PLUS(NUM, x), y/TIMES(ID, NUM)\}$
 -->
<IMG
 WIDTH="388" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img309.png"
 ALT="$ \theta = \{x/PLUS(NUM, x), y/TIMES(ID, NUM)\}$">

al patrón <!-- MATH
 $PLUS(x, y)$
 -->
<IMG
 WIDTH="96" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img310.png"
 ALT="$ PLUS(x, y)$">
 obtenemos el árbol <!-- MATH
 $PLUS(PLUS(NUM,x), TIMES(ID, NUM))$
 -->
<IMG
 WIDTH="367" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img311.png"
 ALT="$ PLUS(PLUS(NUM,x), TIMES(ID, NUM))$">
:
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $PLUS(x, y)\theta = PLUS(x\theta, y\theta) = PLUS(PLUS(NUM,x), TIMES(ID, NUM))$
 -->
<IMG
 WIDTH="622" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img312.png"
 ALT="$ PLUS(x, y)\theta = PLUS(x\theta, y\theta) = PLUS(PLUS(NUM,x), TIMES(ID, NUM))$">
</I></DIV>
<P></DIV><P></P>

<P>

<H4><A NAME="SECTION001530040000000000000">
Casamiento Árbol</A>
</H4>
  

<P>
<DIV><B>Definición  10.3.5</B> &nbsp; 
<I>Se dice que un patrón <!-- MATH
 $\tau \in B(V \cup \Sigma)$
 -->
<IMG
 WIDTH="109" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img313.png"
 ALT="$ \tau \in B(V \cup \Sigma)$">
 con variables
<!-- MATH
 $x_1, \ldots x_k$
 -->
<IMG
 WIDTH="71" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img284.png"
 ALT="$ x_1, \ldots x_k$">
 <A NAME="22691"></A><B>casa con un árbol</B>
<!-- MATH
 $t \in B(\Sigma)$
 -->
<IMG
 WIDTH="73" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img235.png"
 ALT="$ t \in B(\Sigma)$">
 si existe una sustitución de <IMG
 WIDTH="14" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img314.png"
 ALT="$ \tau$">
 que produce <IMG
 WIDTH="11" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img187.png"
 ALT="$ t$">
, esto
es, si existen <!-- MATH
 $t_1, \ldots t_k \in B(\Sigma)$
 -->
<IMG
 WIDTH="126" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img315.png"
 ALT="$ t_1, \ldots t_k \in B(\Sigma)$">
 tales que 
<!-- MATH
 $t = \tau \{x_1/t_1, \ldots x_k/t_k\}$
 -->
<IMG
 WIDTH="174" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img316.png"
 ALT="$ t = \tau \{x_1/t_1, \ldots x_k/t_k\}$">
. 
También se dice que <IMG
 WIDTH="14" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img314.png"
 ALT="$ \tau$">
 <A NAME="22693"></A><B>casa con la sustitución</B>
<!-- MATH
 $\{x_1/t_1, \ldots x_k/t_k\}$
 -->
<IMG
 WIDTH="135" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img317.png"
 ALT="$ \{x_1/t_1, \ldots x_k/t_k\}$">
.</I></DIV><P></P>

<P>
<P>
<DIV><B>Ejemplo  10.3.5</B> &nbsp; 
<I>El patrón <!-- MATH
 $\tau = CONS(x, NIL)$
 -->
<IMG
 WIDTH="161" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img318.png"
 ALT="$ \tau = CONS(x, NIL)$">
 casa con el árbol <!-- MATH
 $t = CONS(CONS(A,NIL),NIL)$
 -->
<IMG
 WIDTH="274" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img319.png"
 ALT="$ t = CONS(CONS(A,NIL),NIL)$">
 
y con el subárbol  <!-- MATH
 $t \ldotp 1$
 -->
<IMG
 WIDTH="28" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img320.png"
 ALT="$ t \ldotp 1$">
. Las respectivas sustituciones son <!-- MATH
 $t\{x/CONS(A,NIL)\}$
 -->
<IMG
 WIDTH="173" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img321.png"
 ALT="$ t\{x/CONS(A,NIL)\}$">
 y 
<!-- MATH
 $t \ldotp 1 \{x/A\}$
 -->
<IMG
 WIDTH="76" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img322.png"
 ALT="$ t \ldotp 1 \{x/A\}$">
.
</I>
<P>
<DIV ALIGN="CENTER"><I><!-- MATH
 $t = \tau \{x/CONS(A,NIL)\}$
 -->
<IMG
 WIDTH="206" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img323.png"
 ALT="$ t = \tau \{x/CONS(A,NIL)\}$">

<BR><!-- MATH
 $t \ldotp 1 = \tau \{x/A\}$
 -->
<IMG
 WIDTH="109" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img324.png"
 ALT="$ t \ldotp 1 = \tau \{x/A\}$">
</I></DIV>
<P></DIV><P></P>

<P>
<P>
<DIV><B>Ejercicio  10.3.2</B> &nbsp; 
<I>Sea <!-- MATH
 $\tau = PLUS(x, y)$
 -->
<IMG
 WIDTH="129" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img325.png"
 ALT="$ \tau = PLUS(x, y)$">
 y <!-- MATH
 $t = TIMES(PLUS(NUM, NUM), TIMES(ID, ID))$
 -->
<IMG
 WIDTH="425" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img326.png"
 ALT="$ t = TIMES(PLUS(NUM, NUM), TIMES(ID, ID))$">
.
Calcule los subárboles <IMG
 WIDTH="16" HEIGHT="20" ALIGN="BOTTOM" BORDER="0"
 SRC="img196.png"
 ALT="$ t'$">
 de <IMG
 WIDTH="11" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img187.png"
 ALT="$ t$">
 y las sustituciones <!-- MATH
 $\{x/t_1, y/t_2\}$
 -->
<IMG
 WIDTH="94" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img327.png"
 ALT="$ \{x/t_1, y/t_2\}$">
 
que hacen que <IMG
 WIDTH="14" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img314.png"
 ALT="$ \tau$">
 case con <IMG
 WIDTH="16" HEIGHT="20" ALIGN="BOTTOM" BORDER="0"
 SRC="img196.png"
 ALT="$ t'$">
.  
</I>
<P>
<I>Por ejemplo es obvio que para el árbol raíz <!-- MATH
 $t/\epsilon$
 -->
<IMG
 WIDTH="27" HEIGHT="36" ALIGN="MIDDLE" BORDER="0"
 SRC="img242.png"
 ALT="$ t/\epsilon$">
 no existe sustitución
posible:
</I>
<P>
<I><!-- MATH
 $t = TIMES(PLUS(NUM, NUM), TIMES(ID, ID)) = \tau\{x/t_1, y/t_2\} =
PLUS(x, y)\{x/t_1, y/t_2\}$
 -->
<IMG
 WIDTH="749" HEIGHT="35" ALIGN="MIDDLE" BORDER="0"
 SRC="img328.png"
 ALT="$ t = TIMES(PLUS(NUM, NUM), TIMES(ID, ID)) = \tau\{x/t_1, y/t_2\} =
PLUS(x, y)\{x/t_1, y/t_2\}$">

</I>
<P>
<I>ya que un término con raíz <IMG
 WIDTH="71" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img230.png"
 ALT="$ TIMES$">
 nunca podrá ser igual a un término con raíz 
<IMG
 WIDTH="56" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img228.png"
 ALT="$ PLUS$">
.</I></DIV><P></P>

<P>
El problema aquí es equivalente al de las expresiones regulares
en el caso de los lenguajes lineales. En aquellos, los autómatas finitos 
nos proveen con un mecanismo para reconocer si una determinada cadena
``casa''' o no con la expresión regular. Existe un concepto análogo,
el de <A NAME="22695"></A><B>autómata árbol</B> que resuelve el problema del ``casamiento''
de patrones árbol. Al igual que el concepto de autómata permite 
la construcción de software para la búsqueda de cadenas y su 
posterior modificación, el concepto de autómata árbol 
permite la construcción de software para la búsqueda de los
subárboles que casan con un patrón árbol dado.

<P>
<BR> <HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsecciones</STRONG></A>

<UL>
<LI><UL>
<LI><UL>
<LI><A NAME="tex2html5533"
  HREF="node270.html#SECTION001530010000000000000">Patrón Árbol</A>
<LI><A NAME="tex2html5534"
  HREF="node270.html#SECTION001530020000000000000">Patrón Lineal</A>
<LI><A NAME="tex2html5535"
  HREF="node270.html#SECTION001530030000000000000">Sustitución</A>
<LI><A NAME="tex2html5536"
  HREF="node270.html#SECTION001530040000000000000">Casamiento Árbol</A>
</UL></UL></UL>
<!--End of Table of Child-Links-->
<HR>
<A NAME="tex2html5531"
  HREF="node271.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html5525"
  HREF="node267.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html5519"
  HREF="node269.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html5527"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html5529"
  HREF="node322.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html2"
  HREF="http://nereida.deioc.ull.es/~pl/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="PL.jpg"
 ALT="PL"></A><A NAME="tex2html3"
  HREF="http://campusvirtual.ull.es/0910/course/view.php?id=1148"><IMG
  WIDTH="50" ALIGN="BOTTOM" BORDER="0"
 SRC="hatpl.png"
 ALT="PL moodle"></A><A NAME="tex2html4"
  HREF="pl.ps"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="gv.jpeg"
 ALT="ps"></A><A NAME="tex2html5"
  HREF="perl_errata_form.html"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="icon_errata.jpg"
 ALT="errata"></A><A NAME="tex2html6"
  HREF="http://search.cpan.org/"><IMG
  WIDTH="60" ALIGN="BOTTOM" BORDER="0"
 SRC="lupa.gif"
 ALT="modulos"></A><A NAME="tex2html7"
  HREF="http://www.perlmonks.org/?node=Seekers of Perl Wisdom"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="monk.gif"
 ALT="perlmonks"></A><A NAME="tex2html8"
  HREF="http://perldoc.perl.org/"><IMG
  WIDTH="30" ALIGN="BOTTOM" BORDER="0"
 SRC="perlonion.jpeg"
 ALT="perldoc"></A><A NAME="tex2html9"
  HREF="http://nereida.deioc.ull.es/~lhp/perlexamples/"><IMG
  WIDTH="22" ALIGN="BOTTOM" BORDER="0"
 SRC="logoLHP.jpg"
 ALT="apuntes LHP"></A><A NAME="tex2html10"
  HREF="http://www.google.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ggoogle.gif"
 ALT="google"></A><A NAME="tex2html11"
  HREF="http://www.etsii.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="etsii.png"
 ALT="etsii"></A><A NAME="tex2html12"
  HREF="http://www.ull.es/"><IMG
  WIDTH="35" ALIGN="BOTTOM" BORDER="0"
 SRC="ull.gif"
 ALT="ull"></A><A NAME="tex2html13"
  HREF="http://nereida.deioc.ull.es/"><IMG
  WIDTH="32" ALIGN="BOTTOM" BORDER="0"
 SRC="logopcgull.gif"
 ALT="pcgull"></A>
<BR>
<B> Sig:</B> <A NAME="tex2html5532"
  HREF="node271.html">El método m</A>
<B>Sup:</B> <A NAME="tex2html5526"
  HREF="node267.html">Transformaciones Árbol con Parse::Eyapp</A>
<B> Ant:</B> <A NAME="tex2html5520"
  HREF="node269.html">Selección de Código y</A>
 <B>Err:</B> <a href="perl_errata_form.html" target="_blank">Si hallas una errata ...</a>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Casiano Rodríguez León <BR>
2013-03-05</I>
</ADDRESS>
</BODY>
</HTML>
